# å¥èº«æˆ¿é”»ç‚¼ç®¡ç†ç³»ç»Ÿ - ç¼ºå¤±åŠŸèƒ½å¼€å‘è®¡åˆ’

## ğŸ“‹ æ–‡æ¡£è¯´æ˜
- **é¡¹ç›®åç§°**: å¥èº«æˆ¿é”»ç‚¼ç®¡ç†ç³»ç»Ÿ
- **æŠ€æœ¯æ ˆ**: Spring Boot + MyBatis Plus + Redis + JWT / Vue3 + UniApp
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **åˆ›å»ºæ—¥æœŸ**: 2025-12-11
- **é¢„è®¡æ€»å·¥æœŸ**: 8-10å‘¨

---

## ğŸ¯ å¼€å‘ä¼˜å…ˆçº§åˆ†çº§

| ä¼˜å…ˆçº§ | æ ‡è¯† | è¯´æ˜ | é¢„è®¡å·¥æœŸ |
|--------|------|------|----------|
| P0 | ğŸ”´ | æ ¸å¿ƒåŠŸèƒ½,é˜»å¡ä¸Šçº¿ | 3-4å‘¨ |
| P1 | ğŸŸ  | é‡è¦åŠŸèƒ½,å½±å“ä½“éªŒ | 3-4å‘¨ |
| P2 | ğŸŸ¡ | å¢å¼ºåŠŸèƒ½,ä¼˜åŒ–ä½“éªŒ | 2å‘¨ |
| P3 | ğŸŸ¢ | å¯é€‰åŠŸèƒ½,é”¦ä¸Šæ·»èŠ± | 1å‘¨ |

---

## ç¬¬ä¸€é˜¶æ®µ:æ ¸å¿ƒè¡¥å®Œ(P0) ğŸ”´

### æ¨¡å—1:å™¨æé¢„çº¦ä¸æ’é˜Ÿç³»ç»Ÿ

#### 1.1 æ•°æ®åº“è®¾è®¡(0.5å¤©)

**åˆ›å»ºæ–‡ä»¶**: `database/equipment_system.sql`

```sql
-- å™¨æè¡¨
CREATE TABLE `gym_equipment` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'å™¨æID',
  `name` varchar(100) NOT NULL COMMENT 'å™¨æåç§°',
  `code` varchar(50) UNIQUE NOT NULL COMMENT 'å™¨æç¼–å·',
  `category` varchar(50) COMMENT 'å™¨æç±»å‹(æœ‰æ°§/åŠ›é‡/è‡ªç”±é‡é‡)',
  `brand` varchar(100) COMMENT 'å“ç‰Œ',
  `model` varchar(100) COMMENT 'å‹å·',
  `location` varchar(100) COMMENT 'ä½ç½®',
  `purchase_date` date COMMENT 'è´­ä¹°æ—¥æœŸ',
  `warranty_expire` date COMMENT 'ä¿ä¿®åˆ°æœŸæ—¥',
  `status` tinyint DEFAULT 1 COMMENT 'çŠ¶æ€:0-æ•…éšœ,1-æ­£å¸¸,2-ç»´æŠ¤ä¸­,3-æŠ¥åºŸ',
  `current_user_id` bigint COMMENT 'å½“å‰ä½¿ç”¨è€…ID',
  `usage_start_time` datetime COMMENT 'ä½¿ç”¨å¼€å§‹æ—¶é—´',
  `remark` text COMMENT 'å¤‡æ³¨',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  INDEX `idx_category`(`category`),
  INDEX `idx_status`(`status`),
  INDEX `idx_current_user`(`current_user_id`)
) ENGINE=InnoDB COMMENT='å™¨æè¡¨';

-- å™¨æé¢„çº¦è¡¨
CREATE TABLE `gym_equipment_booking` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'é¢„çº¦ID',
  `user_id` bigint NOT NULL COMMENT 'ç”¨æˆ·ID',
  `equipment_id` bigint NOT NULL COMMENT 'å™¨æID',
  `start_time` datetime NOT NULL COMMENT 'å¼€å§‹æ—¶é—´',
  `end_time` datetime NOT NULL COMMENT 'ç»“æŸæ—¶é—´',
  `actual_start_time` datetime COMMENT 'å®é™…å¼€å§‹æ—¶é—´',
  `actual_end_time` datetime COMMENT 'å®é™…ç»“æŸæ—¶é—´',
  `status` tinyint DEFAULT 1 COMMENT 'çŠ¶æ€:0-å·²å–æ¶ˆ,1-é¢„çº¦ä¸­,2-ä½¿ç”¨ä¸­,3-å·²å®Œæˆ,4-è¶…æ—¶æœªä½¿ç”¨',
  `cancel_time` datetime COMMENT 'å–æ¶ˆæ—¶é—´',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`user_id`) REFERENCES `user`(`id`),
  FOREIGN KEY (`equipment_id`) REFERENCES `gym_equipment`(`id`),
  INDEX `idx_user_id`(`user_id`),
  INDEX `idx_equipment_id`(`equipment_id`),
  INDEX `idx_status`(`status`)
) ENGINE=InnoDB COMMENT='å™¨æé¢„çº¦è¡¨';

-- å™¨ææ’é˜Ÿè¡¨
CREATE TABLE `gym_equipment_queue` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'æ’é˜ŸID',
  `user_id` bigint NOT NULL COMMENT 'ç”¨æˆ·ID',
  `equipment_id` bigint NOT NULL COMMENT 'å™¨æID',
  `queue_number` int NOT NULL COMMENT 'æ’é˜Ÿå·',
  `join_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åŠ å…¥æ—¶é—´',
  `call_time` datetime COMMENT 'å«å·æ—¶é—´',
  `status` tinyint DEFAULT 1 COMMENT 'çŠ¶æ€:0-å·²å–æ¶ˆ,1-æ’é˜Ÿä¸­,2-å·²å«å·,3-å·²å®Œæˆ',
  `cancel_time` datetime COMMENT 'å–æ¶ˆæ—¶é—´',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`user_id`) REFERENCES `user`(`id`),
  FOREIGN KEY (`equipment_id`) REFERENCES `gym_equipment`(`id`),
  INDEX `idx_equipment_status`(`equipment_id`, `status`),
  INDEX `idx_queue_number`(`queue_number`)
) ENGINE=InnoDB COMMENT='å™¨ææ’é˜Ÿè¡¨';

-- å™¨æç»´æŠ¤è®°å½•è¡¨
CREATE TABLE `gym_equipment_maintenance` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'ç»´æŠ¤ID',
  `equipment_id` bigint NOT NULL COMMENT 'å™¨æID',
  `maintenance_type` tinyint NOT NULL COMMENT 'ç±»å‹:1-ä¿å…»,2-ç»´ä¿®,3-æ£€æŸ¥',
  `maintenance_date` datetime NOT NULL COMMENT 'ç»´æŠ¤æ—¶é—´',
  `content` text COMMENT 'ç»´æŠ¤å†…å®¹',
  `cost` decimal(10,2) COMMENT 'è´¹ç”¨',
  `operator` varchar(50) COMMENT 'ç»´æŠ¤äººå‘˜',
  `next_maintenance_date` date COMMENT 'ä¸‹æ¬¡ç»´æŠ¤æ—¥æœŸ',
  `remark` text COMMENT 'å¤‡æ³¨',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`equipment_id`) REFERENCES `gym_equipment`(`id`),
  INDEX `idx_equipment_id`(`equipment_id`)
) ENGINE=InnoDB COMMENT='å™¨æç»´æŠ¤è®°å½•è¡¨';
```

#### 1.2 åç«¯å¼€å‘(3å¤©)

**æ­¥éª¤1**: åˆ›å»ºå®ä½“ç±»(0.5å¤©)
- æ–‡ä»¶ä½ç½®: `springboot/src/main/java/org/example/springboot/entity/`
- åˆ›å»ºæ–‡ä»¶:
  - `GymEquipment.java`
  - `GymEquipmentBooking.java`
  - `GymEquipmentQueue.java`
  - `GymEquipmentMaintenance.java`

**æ­¥éª¤2**: åˆ›å»ºMapperæ¥å£(0.5å¤©)
- æ–‡ä»¶ä½ç½®: `springboot/src/main/java/org/example/springboot/mapper/`
- åˆ›å»ºæ–‡ä»¶:
  - `GymEquipmentMapper.java`
  - `GymEquipmentBookingMapper.java`
  - `GymEquipmentQueueMapper.java`
  - `GymEquipmentMaintenanceMapper.java`

**æ­¥éª¤3**: åˆ›å»ºDTO(0.5å¤©)
- æ–‡ä»¶ä½ç½®: `springboot/src/main/java/org/example/springboot/dto/`
- åˆ›å»ºCommand DTO:
  - `EquipmentCreateDTO.java`
  - `EquipmentUpdateDTO.java`
  - `EquipmentBookingCreateDTO.java`
  - `EquipmentQueueCreateDTO.java`
  - `MaintenanceCreateDTO.java`
- åˆ›å»ºResponse DTO:
  - `EquipmentResponseDTO.java`
  - `EquipmentBookingResponseDTO.java`
  - `EquipmentQueueResponseDTO.java`

**æ­¥éª¤4**: åˆ›å»ºService(1å¤©)
- æ–‡ä»¶ä½ç½®: `springboot/src/main/java/org/example/springboot/service/`
- åˆ›å»ºæ–‡ä»¶: `EquipmentService.java`
- æ ¸å¿ƒæ–¹æ³•:
  ```java
  // å™¨æç®¡ç†
  Page<EquipmentResponseDTO> getEquipmentPage(æ¡ä»¶);
  EquipmentResponseDTO createEquipment(EquipmentCreateDTO);
  EquipmentResponseDTO updateEquipment(Long id, EquipmentUpdateDTO);
  void deleteEquipment(Long id);
  
  // å™¨æé¢„çº¦
  Long createBooking(EquipmentBookingCreateDTO);
  void cancelBooking(Long bookingId, Long userId);
  List<EquipmentBookingResponseDTO> getUserBookings(Long userId);
  void startUsing(Long bookingId); // å¼€å§‹ä½¿ç”¨
  void endUsing(Long bookingId);   // ç»“æŸä½¿ç”¨
  
  // å™¨ææ’é˜Ÿ
  Long joinQueue(Long userId, Long equipmentId);
  void leaveQueue(Long queueId, Long userId);
  List<EquipmentQueueResponseDTO> getQueueList(Long equipmentId);
  void callNext(Long equipmentId); // å«å·
  
  // ç»´æŠ¤è®°å½•
  void addMaintenance(MaintenanceCreateDTO);
  Page<MaintenanceResponseDTO> getMaintenanceRecords(æ¡ä»¶);
  ```

**æ­¥éª¤5**: åˆ›å»ºController(0.5å¤©)
- æ–‡ä»¶ä½ç½®: `springboot/src/main/java/org/example/springboot/controller/`
- åˆ›å»ºæ–‡ä»¶:
  - `EquipmentController.java` - å™¨æç®¡ç†(åå°)
  - `EquipmentBookingController.java` - é¢„çº¦ç®¡ç†(å°ç¨‹åº+åå°)
  - `EquipmentMaintenanceController.java` - ç»´æŠ¤ç®¡ç†(åå°)

#### 1.3 å‰ç«¯å¼€å‘ - åå°ç®¡ç†(1.5å¤©)

**Vue3åå°é¡µé¢**:
- æ–‡ä»¶ä½ç½®: `vue3/src/views/backend/equipment/`
- åˆ›å»ºæ–‡ä»¶:
  - `index.vue` - å™¨æåˆ—è¡¨å’Œç®¡ç†
  - `maintenance.vue` - ç»´æŠ¤è®°å½•ç®¡ç†
  - `booking.vue` - é¢„çº¦è®°å½•æŸ¥çœ‹

**APIå°è£…**:
- æ–‡ä»¶ä½ç½®: `vue3/src/api/`
- åˆ›å»ºæ–‡ä»¶: `EquipmentApi.js`

**è·¯ç”±é…ç½®**:
- ä¿®æ”¹æ–‡ä»¶: `vue3/src/router/index.js`
- æ·»åŠ è·¯ç”±:
  ```javascript
  {
    path: 'equipment',
    name: 'EquipmentManagement',
    component: () => import('@/views/backend/equipment/index.vue'),
    meta: { title: 'å™¨æç®¡ç†', icon: 'Bicycle', requiresAuth: true }
  }
  ```

#### 1.4 å‰ç«¯å¼€å‘ - å°ç¨‹åº(2å¤©)

**UniAppé¡µé¢**:
- æ–‡ä»¶ä½ç½®: `uniapp/pages/equipment/`
- åˆ›å»ºæ–‡ä»¶:
  - `list.vue` - å™¨æåˆ—è¡¨
  - `detail.vue` - å™¨æè¯¦æƒ…
  - `booking.vue` - å™¨æé¢„çº¦
  - `my-booking.vue` - æˆ‘çš„é¢„çº¦
  - `queue.vue` - æ’é˜Ÿåˆ—è¡¨

**APIå°è£…**:
- æ–‡ä»¶ä½ç½®: `uniapp/apis/`
- åˆ›å»ºæ–‡ä»¶: `equipment.js`

**é¡µé¢é…ç½®**:
- ä¿®æ”¹æ–‡ä»¶: `uniapp/pages.json`
- æ·»åŠ é¡µé¢è·¯ç”±é…ç½®

#### 1.5 æµ‹è¯•éªŒè¯(1å¤©)
- [ ] å™¨æå¢åˆ æ”¹æŸ¥åŠŸèƒ½
- [ ] å™¨æçŠ¶æ€æµè½¬æ­£ç¡®
- [ ] é¢„çº¦åŠŸèƒ½:åˆ›å»ºã€å–æ¶ˆã€å¼€å§‹ä½¿ç”¨ã€ç»“æŸä½¿ç”¨
- [ ] æ’é˜ŸåŠŸèƒ½:åŠ å…¥ã€é€€å‡ºã€å«å·
- [ ] è¶…æ—¶è‡ªåŠ¨å–æ¶ˆæœºåˆ¶
- [ ] ç»´æŠ¤è®°å½•ç®¡ç†

---

<!-- ### æ¨¡å—2:ä¼šå‘˜å……å€¼ç³»ç»Ÿ

#### 2.1 æ•°æ®åº“è®¾è®¡(0.5å¤©)

**åˆ›å»ºæ–‡ä»¶**: `database/recharge_system.sql`

```sql
-- å……å€¼è®°å½•è¡¨
CREATE TABLE `gym_recharge_record` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'å……å€¼ID',
  `user_id` bigint NOT NULL COMMENT 'ç”¨æˆ·ID',
  `amount` decimal(10,2) NOT NULL COMMENT 'å……å€¼é‡‘é¢',
  `before_balance` decimal(10,2) NOT NULL COMMENT 'å……å€¼å‰ä½™é¢',
  `after_balance` decimal(10,2) NOT NULL COMMENT 'å……å€¼åä½™é¢',
  `payment_method` varchar(20) NOT NULL COMMENT 'æ”¯ä»˜æ–¹å¼:WECHAT/ALIPAY/CASH',
  `transaction_id` varchar(100) COMMENT 'äº¤æ˜“æµæ°´å·',
  `out_trade_no` varchar(100) UNIQUE COMMENT 'å•†æˆ·è®¢å•å·',
  `status` tinyint DEFAULT 1 COMMENT 'çŠ¶æ€:0-å¤±è´¥,1-æˆåŠŸ,2-å¾…æ”¯ä»˜,3-å·²é€€æ¬¾',
  `pay_time` datetime COMMENT 'æ”¯ä»˜æ—¶é—´',
  `remark` varchar(200) COMMENT 'å¤‡æ³¨',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`user_id`) REFERENCES `user`(`id`),
  INDEX `idx_user_id`(`user_id`),
  INDEX `idx_out_trade_no`(`out_trade_no`),
  INDEX `idx_status`(`status`)
) ENGINE=InnoDB COMMENT='å……å€¼è®°å½•è¡¨';

-- ç”¨æˆ·è´¦æˆ·è¡¨(æ‰©å±•userè¡¨)
-- æ–¹æ¡ˆ1:åœ¨userè¡¨æ·»åŠ å­—æ®µ
ALTER TABLE `user` ADD COLUMN `balance` decimal(10,2) DEFAULT 0.00 COMMENT 'è´¦æˆ·ä½™é¢';

-- è´¦æˆ·æµæ°´è¡¨
CREATE TABLE `gym_account_transaction` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'æµæ°´ID',
  `user_id` bigint NOT NULL COMMENT 'ç”¨æˆ·ID',
  `type` tinyint NOT NULL COMMENT 'ç±»å‹:1-å……å€¼,2-æ¶ˆè´¹,3-é€€æ¬¾',
  `amount` decimal(10,2) NOT NULL COMMENT 'é‡‘é¢',
  `before_balance` decimal(10,2) NOT NULL COMMENT 'å˜åŠ¨å‰ä½™é¢',
  `after_balance` decimal(10,2) NOT NULL COMMENT 'å˜åŠ¨åä½™é¢',
  `business_type` varchar(50) COMMENT 'ä¸šåŠ¡ç±»å‹',
  `business_id` varchar(50) COMMENT 'ä¸šåŠ¡ID',
  `remark` varchar(200) COMMENT 'å¤‡æ³¨',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`user_id`) REFERENCES `user`(`id`),
  INDEX `idx_user_id`(`user_id`),
  INDEX `idx_type`(`type`)
) ENGINE=InnoDB COMMENT='è´¦æˆ·æµæ°´è¡¨';
```

#### 2.2 å¾®ä¿¡æ”¯ä»˜é›†æˆ(2å¤©)

**æ­¥éª¤1**: æ·»åŠ ä¾èµ–
- ä¿®æ”¹æ–‡ä»¶: `springboot/pom.xml`
- æ·»åŠ å¾®ä¿¡æ”¯ä»˜SDK:
  ```xml
  <dependency>
      <groupId>com.github.wechatpay-apiv3</groupId>
      <artifactId>wechatpay-java</artifactId>
      <version>0.2.12</version>
  </dependency>
  ```

**æ­¥éª¤2**: é…ç½®å¾®ä¿¡æ”¯ä»˜å‚æ•°
- ä¿®æ”¹æ–‡ä»¶: `springboot/src/main/resources/application.yml`
  ```yaml
  wechat:
    pay:
      app-id: ${WECHAT_APPID:your_appid}
      mch-id: ${WECHAT_MCHID:your_mchid}
      api-v3-key: ${WECHAT_API_V3_KEY:your_key}
      private-key-path: ${WECHAT_PRIVATE_KEY_PATH:classpath:apiclient_key.pem}
      notify-url: ${WECHAT_NOTIFY_URL:https://yourdomain.com/api/pay/notify}
  ```

**æ­¥éª¤3**: åˆ›å»ºæ”¯ä»˜é…ç½®ç±»
- æ–‡ä»¶ä½ç½®: `springboot/src/main/java/org/example/springboot/config/`
- åˆ›å»ºæ–‡ä»¶: `WechatPayConfig.java`

**æ­¥éª¤4**: åˆ›å»ºæ”¯ä»˜å·¥å…·ç±»
- æ–‡ä»¶ä½ç½®: `springboot/src/main/java/org/example/springboot/util/`
- åˆ›å»ºæ–‡ä»¶: `WechatPayUtil.java`
- æ ¸å¿ƒæ–¹æ³•:
  - `createJsapiOrder()` - åˆ›å»ºJSAPIæ”¯ä»˜è®¢å•
  - `queryOrder()` - æŸ¥è¯¢è®¢å•
  - `closeOrder()` - å…³é—­è®¢å•
  - `refund()` - ç”³è¯·é€€æ¬¾

#### 2.3 åç«¯å¼€å‘(2å¤©)

**æ­¥éª¤1**: åˆ›å»ºå®ä½“å’ŒDTO(0.5å¤©)
- å®ä½“: `GymRechargeRecord.java`, `GymAccountTransaction.java`
- DTO:
  - `RechargeCreateDTO.java`
  - `RechargeResponseDTO.java`
  - `WechatPayNotifyDTO.java`

**æ­¥éª¤2**: åˆ›å»ºService(1å¤©)
- æ–‡ä»¶: `RechargeService.java`
- æ ¸å¿ƒæ–¹æ³•:
  ```java
  // å‘èµ·å……å€¼
  RechargeResponseDTO createRecharge(RechargeCreateDTO dto);
  
  // å¾®ä¿¡æ”¯ä»˜å›è°ƒå¤„ç†
  void handleWechatNotify(WechatPayNotifyDTO notifyDTO);
  
  // æŸ¥è¯¢å……å€¼è®°å½•
  Page<RechargeResponseDTO> getUserRechargeRecords(Long userId, æ¡ä»¶);
  
  // è´¦æˆ·ä½™é¢å˜åŠ¨
  void updateBalance(Long userId, BigDecimal amount, String businessType);
  
  // æŸ¥è¯¢è´¦æˆ·æµæ°´
  Page<TransactionDTO> getTransactions(Long userId, æ¡ä»¶);
  ```

**æ­¥éª¤3**: åˆ›å»ºController(0.5å¤©)
- æ–‡ä»¶: `RechargeController.java`, `PaymentController.java`

#### 2.4 å‰ç«¯å¼€å‘ - å°ç¨‹åº(1.5å¤©)

**UniAppé¡µé¢**:
- æ–‡ä»¶ä½ç½®: `uniapp/pages/recharge/`
- åˆ›å»ºæ–‡ä»¶:
  - `index.vue` - å……å€¼é¡µé¢
  - `record.vue` - å……å€¼è®°å½•
  - `transaction.vue` - è´¦æˆ·æµæ°´

**APIå°è£…**:
- æ–‡ä»¶: `uniapp/apis/recharge.js`

**å¾®ä¿¡æ”¯ä»˜è°ƒç”¨**:
```javascript
// è°ƒç”¨å¾®ä¿¡æ”¯ä»˜
const paymentData = await createRecharge({ amount: 100 });
uni.requestPayment({
  provider: 'wxpay',
  timeStamp: paymentData.timeStamp,
  nonceStr: paymentData.nonceStr,
  package: paymentData.package,
  signType: 'RSA',
  paySign: paymentData.paySign,
  success: () => { /* æ”¯ä»˜æˆåŠŸ */ },
  fail: () => { /* æ”¯ä»˜å¤±è´¥ */ }
});
```

#### 2.5 æµ‹è¯•éªŒè¯(1å¤©)
- [ ] å……å€¼é‡‘é¢å¥—é¤é€‰æ‹©
- [ ] å¾®ä¿¡æ”¯ä»˜è°ƒèµ·
- [ ] æ”¯ä»˜æˆåŠŸå›è°ƒå¤„ç†
- [ ] ä½™é¢æ›´æ–°æ­£ç¡®æ€§
- [ ] å……å€¼è®°å½•æŸ¥è¯¢
- [ ] è´¦æˆ·æµæ°´æŸ¥è¯¢
- [ ] å¼‚å¸¸æƒ…å†µå¤„ç†(æ”¯ä»˜å¤±è´¥ã€è¶…æ—¶ç­‰)

--- -->

### æ¨¡å—3:ç³»ç»Ÿé€šçŸ¥åŠŸèƒ½

#### 3.1 æ•°æ®åº“è®¾è®¡(0.5å¤©)

```sql
-- ç³»ç»Ÿé€šçŸ¥è¡¨
CREATE TABLE `sys_notification` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'é€šçŸ¥ID',
  `user_id` bigint COMMENT 'ç”¨æˆ·ID(NULLè¡¨ç¤ºå…¨ä½“é€šçŸ¥)',
  `type` varchar(20) NOT NULL COMMENT 'ç±»å‹:BOOKING/MEMBERSHIP/SYSTEM/ACTIVITY',
  `title` varchar(100) NOT NULL COMMENT 'æ ‡é¢˜',
  `content` text NOT NULL COMMENT 'å†…å®¹',
  `business_type` varchar(50) COMMENT 'ä¸šåŠ¡ç±»å‹',
  `business_id` varchar(50) COMMENT 'ä¸šåŠ¡ID',
  `is_read` tinyint DEFAULT 0 COMMENT 'æ˜¯å¦å·²è¯»:0-æœªè¯»,1-å·²è¯»',
  `read_time` datetime COMMENT 'é˜…è¯»æ—¶é—´',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`user_id`) REFERENCES `user`(`id`),
  INDEX `idx_user_id`(`user_id`),
  INDEX `idx_is_read`(`is_read`),
  INDEX `idx_type`(`type`)
) ENGINE=InnoDB COMMENT='ç³»ç»Ÿé€šçŸ¥è¡¨';
```

#### 3.2 åç«¯å¼€å‘(1.5å¤©)

**å®ä½“å’ŒService**:
- `SysNotification.java`
- `NotificationService.java`
  - `sendNotification()` - å‘é€é€šçŸ¥
  - `sendBatchNotification()` - æ‰¹é‡å‘é€
  - `getUserNotifications()` - è·å–ç”¨æˆ·é€šçŸ¥
  - `markAsRead()` - æ ‡è®°å·²è¯»
  - `deleteNotification()` - åˆ é™¤é€šçŸ¥
  - `getUnreadCount()` - è·å–æœªè¯»æ•°é‡

**Controller**:
- `NotificationController.java`

**é€šçŸ¥è§¦å‘ç‚¹é›†æˆ**:
- é¢„çº¦æˆåŠŸ/å–æ¶ˆ â†’ å‘é€é€šçŸ¥
- ä¼šå‘˜åˆ°æœŸæé†’ â†’ å®šæ—¶ä»»åŠ¡å‘é€
- è¯¾ç¨‹å˜æ›´ â†’ å‘é€é€šçŸ¥
- ç³»ç»Ÿå…¬å‘Š â†’ å‘é€é€šçŸ¥

#### 3.3 å‰ç«¯å¼€å‘ - å°ç¨‹åº(1å¤©)

**é¡µé¢**:
- `uniapp/pages/notification/list.vue`

**åŠŸèƒ½**:
- é€šçŸ¥åˆ—è¡¨(æœªè¯»æ ‡è¯†)
- é€šçŸ¥è¯¦æƒ…
- æ ‡è®°å·²è¯»
- åˆ é™¤é€šçŸ¥
- æœªè¯»æ•°é‡è§’æ ‡

#### 3.4 æµ‹è¯•éªŒè¯(0.5å¤©)
- [ ] é€šçŸ¥å‘é€è§¦å‘
- [ ] é€šçŸ¥åˆ—è¡¨æŸ¥è¯¢
- [ ] æœªè¯»æ•°é‡ç»Ÿè®¡
- [ ] æ ‡è®°å·²è¯»åŠŸèƒ½
- [ ] åˆ é™¤é€šçŸ¥åŠŸèƒ½

---

### æ¨¡å—4:è®­ç»ƒè®¡åˆ’å°ç¨‹åºç«¯å®ç°

#### 4.1 å‰ç«¯å¼€å‘ - å°ç¨‹åº(2å¤©)

**é¡µé¢åˆ›å»º**:
- æ–‡ä»¶ä½ç½®: `uniapp/pages/training-plan/`
- åˆ›å»ºæ–‡ä»¶:
  - `list.vue` - æˆ‘çš„è®­ç»ƒè®¡åˆ’åˆ—è¡¨
  - `detail.vue` - è®¡åˆ’è¯¦æƒ…
  - `history.vue` - å†å²è®¡åˆ’
  - `execution.vue` - æ‰§è¡Œè®°å½•

**APIå°è£…**:
- æ–‡ä»¶: `uniapp/apis/trainingPlan.js`

**åŠŸèƒ½å®ç°**:
- æŸ¥è¯¢æˆ‘çš„è®­ç»ƒè®¡åˆ’
- æŸ¥çœ‹è®¡åˆ’è¯¦æƒ…(æ¯æ—¥è®­ç»ƒå†…å®¹)
- æ ‡è®°è®­ç»ƒé¡¹ç›®å®ŒæˆçŠ¶æ€
- æ·»åŠ è®­ç»ƒæ„Ÿå—
- æŸ¥çœ‹å†å²è®¡åˆ’å’Œå®Œæˆç‡
- è®¡åˆ’è¿›åº¦å¯è§†åŒ–(è¿›åº¦æ¡/å›¾è¡¨)

#### 4.2 åç«¯æ¥å£è¡¥å……(1å¤©)

**æ‰©å±•TrainingPlanService**:
- `updateDetailCompletion()` - æ›´æ–°è®­ç»ƒæ˜ç»†å®ŒæˆçŠ¶æ€
- `addExecutionNote()` - æ·»åŠ æ‰§è¡Œå¤‡æ³¨
- `getExecutionHistory()` - è·å–æ‰§è¡Œå†å²
- `calculateProgress()` - è®¡ç®—è®¡åˆ’è¿›åº¦

**æ‰©å±•æ•°æ®åº“è¡¨**:
```sql
-- åœ¨gym_training_plan_detailè¡¨æ·»åŠ å­—æ®µ
ALTER TABLE `gym_training_plan_detail` 
ADD COLUMN `execution_note` text COMMENT 'æ‰§è¡Œå¤‡æ³¨',
ADD COLUMN `actual_sets` int COMMENT 'å®é™…å®Œæˆç»„æ•°',
ADD COLUMN `actual_reps` int COMMENT 'å®é™…å®Œæˆæ¬¡æ•°';
```

#### 4.3 æµ‹è¯•éªŒè¯(0.5å¤©)
- [ ] è®­ç»ƒè®¡åˆ’åˆ—è¡¨æŸ¥è¯¢
- [ ] è®¡åˆ’è¯¦æƒ…å±•ç¤º
- [ ] æ ‡è®°å®ŒæˆçŠ¶æ€
- [ ] æ·»åŠ è®­ç»ƒæ„Ÿå—
- [ ] å†å²è®¡åˆ’æŸ¥è¯¢
- [ ] è¿›åº¦è®¡ç®—å‡†ç¡®æ€§

---

## ç¬¬äºŒé˜¶æ®µ:æ•™ç»ƒç«¯å¼€å‘(P1) ğŸŸ 

### æ¨¡å—5:æ•™ç»ƒç«¯æ¶æ„è®¾è®¡ä¸æ­å»º

#### 5.1 æŠ€æœ¯æ–¹æ¡ˆé€‰æ‹©(0.5å¤©)

**æ–¹æ¡ˆA:ç‹¬ç«‹H5åº”ç”¨(æ¨è)**
- ä¼˜ç‚¹:å¯å¤ç”¨Vue3æŠ€æœ¯æ ˆ,å¼€å‘æ•ˆç‡é«˜
- ç¼ºç‚¹:éœ€è¦å•ç‹¬éƒ¨ç½²
- æŠ€æœ¯æ ˆ:Vue3 + Vite + Vue Router + Pinia

**æ–¹æ¡ˆB:æ•™ç»ƒå°ç¨‹åº**
- ä¼˜ç‚¹:ç”¨æˆ·ä½“éªŒå¥½,å¯ä½¿ç”¨å¾®ä¿¡èƒ½åŠ›
- ç¼ºç‚¹:éœ€è¦ç”³è¯·ç‹¬ç«‹å°ç¨‹åº
- æŠ€æœ¯æ ˆ:UniApp

**æ–¹æ¡ˆC:åå°ç®¡ç†ç«¯é›†æˆ**
- ä¼˜ç‚¹:æ— éœ€æ–°å»ºé¡¹ç›®
- ç¼ºç‚¹:æƒé™æ··æ·†,ä¸ä¾¿äºè§’è‰²éš”ç¦»

**å»ºè®®:é‡‡ç”¨æ–¹æ¡ˆA - ç‹¬ç«‹H5åº”ç”¨**

#### 5.2 é¡¹ç›®åˆå§‹åŒ–(1å¤©)

**åˆ›å»ºcoaché¡¹ç›®**:
```bash
cd vue3
npm create vite@latest coach -- --template vue
cd coach-h5
npm install
npm install vue-router pinia axios ant-design-vue
```

**ç›®å½•ç»“æ„**:
```
coach/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/          # APIæ¥å£
â”‚   â”œâ”€â”€ components/   # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ layouts/      # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ router/       # è·¯ç”±
â”‚   â”œâ”€â”€ store/        # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ utils/        # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ views/        # é¡µé¢
â”‚   â”œâ”€â”€ App.vue
â”‚   â””â”€â”€ main.js
â”œâ”€â”€ public/
â”œâ”€â”€ index.html
â”œâ”€â”€ vite.config.js
â””â”€â”€ package.json
```

#### 5.3 åŸºç¡€æ¡†æ¶æ­å»º(1.5å¤©)

**è·¯ç”±é…ç½®**:
- æ–‡ä»¶: `src/router/index.js`
- è·¯ç”±:
  - `/login` - ç™»å½•
  - `/dashboard` - å·¥ä½œå°
  - `/students` - å­¦å‘˜ç®¡ç†
  - `/training-plans` - è®­ç»ƒæ–¹æ¡ˆ
  - `/courses` - è¯¾ç¨‹ç®¡ç†
  - `/schedule` - æˆ‘çš„æ’ç­
  - `/reviews` - å­¦å‘˜è¯„ä»·

**å¸ƒå±€ç»„ä»¶**:
- `CoachLayout.vue` - æ•™ç»ƒç«¯ä¸»å¸ƒå±€
- `Navbar.vue` - é¡¶éƒ¨å¯¼èˆª
- `Sidebar.vue` - ä¾§è¾¹æ 

**æƒé™æ§åˆ¶**:
- JWT tokenéªŒè¯
- è·¯ç”±å®ˆå«(ä»…å…è®¸COACHè§’è‰²)

---

### æ¨¡å—6:å­¦å‘˜ç®¡ç†åŠŸèƒ½

#### 6.1 åç«¯å¼€å‘(1.5å¤©)

**åˆ›å»ºService**:
- æ–‡ä»¶: `CoachStudentService.java`
- æ–¹æ³•:
  ```java
  // æŸ¥è¯¢æˆ‘çš„å­¦å‘˜åˆ—è¡¨(åŸºäºè®­ç»ƒè®¡åˆ’å…³è”)
  Page<StudentDTO> getMyStudents(Long coachId, æ¡ä»¶);
  
  // å­¦å‘˜è¯¦æƒ…(åŸºæœ¬ä¿¡æ¯+ä½“æµ‹+è®­ç»ƒå†å²)
  StudentDetailDTO getStudentDetail(Long userId);
  
  // æ·»åŠ /ä¿®æ”¹å­¦å‘˜å¤‡æ³¨
  void updateStudentRemark(Long userId, String remark);
  
  // æŸ¥è¯¢å­¦å‘˜ä½“æµ‹å†å²
  List<BodyTestDTO> getStudentBodyTests(Long userId);
  
  // æŸ¥è¯¢å­¦å‘˜è®­ç»ƒè®¡åˆ’
  List<TrainingPlanDTO> getStudentTrainingPlans(Long userId);
  ```

**åˆ›å»ºController**:
- æ–‡ä»¶: `CoachStudentController.java`

#### 6.2 å‰ç«¯å¼€å‘(2å¤©)

**é¡µé¢**:
- `views/students/List.vue` - å­¦å‘˜åˆ—è¡¨
- `views/students/Detail.vue` - å­¦å‘˜è¯¦æƒ…

**åŠŸèƒ½**:
- å­¦å‘˜åˆ—è¡¨(å§“åã€ä¼šå‘˜ç­‰çº§ã€è”ç³»æ–¹å¼)
- æœç´¢å’Œç­›é€‰
- å­¦å‘˜è¯¦æƒ…å±•ç¤º
- ä½“æµ‹è®°å½•æŸ¥çœ‹(å›¾è¡¨å±•ç¤ºè¶‹åŠ¿)
- è®­ç»ƒå†å²æŸ¥çœ‹
- å¤‡æ³¨ç®¡ç†

---

### æ¨¡å—7:è®­ç»ƒæ–¹æ¡ˆåˆ¶å®š

#### 7.1 åç«¯æ¥å£ä¼˜åŒ–(0.5å¤©)

**æ‰©å±•TrainingPlanService**:
- æ·»åŠ æ•™ç»ƒæƒé™éªŒè¯
- æ·»åŠ æ–¹æ¡ˆæ¨¡æ¿åŠŸèƒ½

**æ–¹æ¡ˆæ¨¡æ¿è¡¨**:
```sql
CREATE TABLE `gym_training_plan_template` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'æ¨¡æ¿ID',
  `coach_id` bigint COMMENT 'æ•™ç»ƒID(NULLè¡¨ç¤ºç³»ç»Ÿæ¨¡æ¿)',
  `name` varchar(100) NOT NULL COMMENT 'æ¨¡æ¿åç§°',
  `goal` varchar(50) COMMENT 'è®­ç»ƒç›®æ ‡',
  `duration_days` int COMMENT 'å»ºè®®å‘¨æœŸ(å¤©)',
  `description` text COMMENT 'æ¨¡æ¿è¯´æ˜',
  `is_public` tinyint DEFAULT 0 COMMENT 'æ˜¯å¦å…¬å¼€:0-ç§æœ‰,1-å…¬å¼€',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB COMMENT='è®­ç»ƒè®¡åˆ’æ¨¡æ¿è¡¨';

CREATE TABLE `gym_training_plan_template_detail` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'æ˜ç»†ID',
  `template_id` bigint NOT NULL COMMENT 'æ¨¡æ¿ID',
  `day_of_week` tinyint COMMENT 'æ˜ŸæœŸå‡ (1-7)',
  `action_id` bigint COMMENT 'åŠ¨ä½œID',
  `sets` int COMMENT 'ç»„æ•°',
  `reps` int COMMENT 'æ¬¡æ•°',
  `weight` decimal(5,2) COMMENT 'é‡é‡(kg)',
  `duration` int COMMENT 'æ—¶é•¿(åˆ†é’Ÿ)',
  `rest_time` int COMMENT 'ç»„é—´ä¼‘æ¯(ç§’)',
  `sort_order` int DEFAULT 0,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`template_id`) REFERENCES `gym_training_plan_template`(`id`),
  FOREIGN KEY (`action_id`) REFERENCES `gym_training_action`(`id`)
) ENGINE=InnoDB COMMENT='è®­ç»ƒè®¡åˆ’æ¨¡æ¿æ˜ç»†è¡¨';
```

#### 7.2 å‰ç«¯å¼€å‘(2.5å¤©)

**é¡µé¢**:
- `views/training-plans/List.vue` - æ–¹æ¡ˆåˆ—è¡¨
- `views/training-plans/Create.vue` - åˆ›å»ºæ–¹æ¡ˆ
- `views/training-plans/Templates.vue` - æˆ‘çš„æ¨¡æ¿

**åŠŸèƒ½**:
- å­¦å‘˜ä¸“å±æ–¹æ¡ˆç®¡ç†
- æ–¹æ¡ˆåˆ›å»ºå‘å¯¼(é€‰æ‹©ç›®æ ‡â†’é€‰æ‹©åŠ¨ä½œâ†’è®¾ç½®å‚æ•°)
- åŠ¨ä½œåº“é€‰æ‹©å™¨
- æ¯æ—¥è®­ç»ƒç¼–æ’(æ‹–æ‹½æ’åº)
- æ–¹æ¡ˆæ¨¡æ¿ç®¡ç†
- åº”ç”¨æ¨¡æ¿å¿«é€Ÿåˆ›å»º
- æ–¹æ¡ˆä¿®æ”¹å’Œåˆ é™¤

---

### æ¨¡å—8:è¯¾ç¨‹ç®¡ç†

#### 8.1 åç«¯å¼€å‘(1å¤©)

**åˆ›å»ºService**:
- æ–‡ä»¶: `CoachCourseService.java`
- æ–¹æ³•:
  ```java
  // æŸ¥è¯¢æˆ‘çš„è¯¾ç¨‹
  List<CourseScheduleDTO> getMyCourses(Long coachId, æ—¶é—´èŒƒå›´);
  
  // è¯¾ç¨‹å‚ä¸æƒ…å†µ
  CourseAttendanceDTO getCourseAttendance(Long scheduleId);
  
  // å­¦å‘˜ç­¾åˆ°
  void signInStudent(Long bookingId, Long coachId);
  
  // ä¸Šä¼ è¯¾ç¨‹æ•™æ¡ˆ
  void uploadCoursePlan(Long scheduleId, String fileUrl);
  ```

#### 8.2 å‰ç«¯å¼€å‘(1.5å¤©)

**é¡µé¢**:
- `views/courses/List.vue` - æˆ‘çš„è¯¾ç¨‹
- `views/courses/Detail.vue` - è¯¾ç¨‹è¯¦æƒ…
- `views/courses/Attendance.vue` - ç­¾åˆ°ç®¡ç†

**åŠŸèƒ½**:
- è¯¾ç¨‹æ—¥å†è§†å›¾
- è¯¾ç¨‹è¯¦æƒ…(æ—¶é—´ã€åœ°ç‚¹ã€äººæ•°)
- é¢„çº¦å­¦å‘˜åˆ—è¡¨
- ç­¾åˆ°åŠŸèƒ½(æ‰«ç /æ‰‹åŠ¨)
- è¯¾ç¨‹æ•™æ¡ˆä¸Šä¼ 
- è¯¾ç¨‹æ•°æ®ç»Ÿè®¡

---

### æ¨¡å—9:æˆ‘çš„æ’ç­

#### 9.1 æ•°æ®åº“è®¾è®¡(0.5å¤©)

```sql
-- æ•™ç»ƒæ’ç­è¡¨
CREATE TABLE `gym_coach_schedule` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'æ’ç­ID',
  `coach_id` bigint NOT NULL COMMENT 'æ•™ç»ƒID',
  `work_date` date NOT NULL COMMENT 'å·¥ä½œæ—¥æœŸ',
  `start_time` time NOT NULL COMMENT 'å¼€å§‹æ—¶é—´',
  `end_time` time NOT NULL COMMENT 'ç»“æŸæ—¶é—´',
  `work_type` varchar(20) COMMENT 'å·¥ä½œç±»å‹:NORMAL/OVERTIME/SHIFT',
  `status` tinyint DEFAULT 1 COMMENT 'çŠ¶æ€:0-å·²å–æ¶ˆ,1-æ­£å¸¸',
  `remark` varchar(200) COMMENT 'å¤‡æ³¨',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`coach_id`) REFERENCES `gym_coach`(`id`),
  INDEX `idx_coach_date`(`coach_id`, `work_date`)
) ENGINE=InnoDB COMMENT='æ•™ç»ƒæ’ç­è¡¨';

-- æ’ç­ç”³è¯·è¡¨
CREATE TABLE `gym_schedule_request` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'ç”³è¯·ID',
  `coach_id` bigint NOT NULL COMMENT 'æ•™ç»ƒID',
  `request_type` tinyint NOT NULL COMMENT 'ç±»å‹:1-è°ƒä¼‘,2-åŠ ç­,3-æ¢ç­',
  `target_date` date NOT NULL COMMENT 'ç›®æ ‡æ—¥æœŸ',
  `reason` text COMMENT 'ç”³è¯·ç†ç”±',
  `status` tinyint DEFAULT 0 COMMENT 'çŠ¶æ€:0-å¾…å®¡æ‰¹,1-å·²é€šè¿‡,2-å·²æ‹’ç»',
  `approver_id` bigint COMMENT 'å®¡æ‰¹äººID',
  `approve_time` datetime COMMENT 'å®¡æ‰¹æ—¶é—´',
  `approve_remark` varchar(200) COMMENT 'å®¡æ‰¹æ„è§',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`coach_id`) REFERENCES `gym_coach`(`id`),
  INDEX `idx_status`(`status`)
) ENGINE=InnoDB COMMENT='æ’ç­ç”³è¯·è¡¨';
```

#### 9.2 åç«¯å¼€å‘(1.5å¤©)

**Serviceå’ŒController**:
- `CoachScheduleService.java`
- `CoachScheduleController.java`

**æ ¸å¿ƒæ–¹æ³•**:
- æŸ¥è¯¢æˆ‘çš„æ’ç­(æ—¥å†è§†å›¾)
- æäº¤æ’ç­ç”³è¯·
- æŸ¥è¯¢ç”³è¯·è®°å½•

#### 9.3 å‰ç«¯å¼€å‘(1.5å¤©)

**é¡µé¢**:
- `views/schedule/Calendar.vue` - æ’ç­æ—¥å†
- `views/schedule/Request.vue` - ç”³è¯·ç®¡ç†

**åŠŸèƒ½**:
- æœˆåº¦æ’ç­æ—¥å†
- å·¥ä½œæ—¶é—´å±•ç¤º
- æäº¤è°ƒä¼‘/åŠ ç­ç”³è¯·
- ç”³è¯·è®°å½•æŸ¥è¯¢

---

### æ¨¡å—10:å­¦å‘˜è¯„ä»·

#### 10.1 æ•°æ®åº“è®¾è®¡(0.5å¤©)

```sql
-- æ•™ç»ƒè¯„ä»·è¡¨
CREATE TABLE `gym_coach_review` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'è¯„ä»·ID',
  `user_id` bigint NOT NULL COMMENT 'ç”¨æˆ·ID',
  `coach_id` bigint NOT NULL COMMENT 'æ•™ç»ƒID',
  `plan_id` bigint COMMENT 'å…³è”è®­ç»ƒè®¡åˆ’ID',
  `rating` tinyint NOT NULL COMMENT 'è¯„åˆ†(1-5)',
  `content` text COMMENT 'è¯„ä»·å†…å®¹',
  `reply` text COMMENT 'æ•™ç»ƒå›å¤',
  `reply_time` datetime COMMENT 'å›å¤æ—¶é—´',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`user_id`) REFERENCES `user`(`id`),
  FOREIGN KEY (`coach_id`) REFERENCES `gym_coach`(`id`),
  INDEX `idx_coach_id`(`coach_id`)
) ENGINE=InnoDB COMMENT='æ•™ç»ƒè¯„ä»·è¡¨';
```

#### 10.2 åç«¯å¼€å‘(1å¤©)

**Service**:
- `CoachReviewService.java`
- æ–¹æ³•:
  - `getMyReviews()` - æŸ¥è¯¢æˆ‘çš„è¯„ä»·
  - `replyReview()` - å›å¤è¯„ä»·
  - `getAverageRating()` - è®¡ç®—å¹³å‡è¯„åˆ†

#### 10.3 å‰ç«¯å¼€å‘(1å¤©)

**é¡µé¢**:
- `views/reviews/List.vue` - è¯„ä»·åˆ—è¡¨
- `views/reviews/Reply.vue` - å›å¤è¯„ä»·

---

## ç¬¬ä¸‰é˜¶æ®µ:å®Œå–„å¢å¼º(P2) ğŸŸ¡

### æ¨¡å—11:å¥èº«æ•°æ®è®°å½•

#### 11.1 æ•°æ®åº“è®¾è®¡

```sql
CREATE TABLE `gym_workout_record` (
  `id` bigint NOT NULL AUTO_INCREMENT COMMENT 'è®°å½•ID',
  `user_id` bigint NOT NULL COMMENT 'ç”¨æˆ·ID',
  `workout_type` varchar(50) COMMENT 'è¿åŠ¨ç±»å‹',
  `duration` int COMMENT 'æ—¶é•¿(åˆ†é’Ÿ)',
  `intensity` varchar(20) COMMENT 'å¼ºåº¦:LOW/MEDIUM/HIGH',
  `calories` int COMMENT 'æ¶ˆè€—çƒ­é‡(kcal)',
  `workout_date` datetime NOT NULL COMMENT 'è¿åŠ¨æ—¶é—´',
  `images` text COMMENT 'è¿åŠ¨ç…§ç‰‡(JSON)',
  `note` text COMMENT 'å¤‡æ³¨',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  FOREIGN KEY (`user_id`) REFERENCES `user`(`id`),
  INDEX `idx_user_date`(`user_id`, `workout_date`)
) ENGINE=InnoDB COMMENT='è¿åŠ¨æ•°æ®è®°å½•è¡¨';
```

#### 11.2 å¼€å‘(2å¤©)
- åç«¯Serviceå’ŒController
- å°ç¨‹åºæ•°æ®å½•å…¥é¡µé¢
- æ•°æ®ç»Ÿè®¡é¡µé¢(å›¾è¡¨å±•ç¤º)

### æ¨¡å—12:ä½“æµ‹æ•°æ®å°ç¨‹åºç«¯

#### 12.1 å¼€å‘(1.5å¤©)
- ä½“æµ‹æŠ¥å‘Šé¡µé¢
- æ•°æ®å¯¹æ¯”é¡µé¢(é€‰æ‹©ä¸¤ä¸ªæ—¶é—´ç‚¹å¯¹æ¯”)
- è¶‹åŠ¿å›¾è¡¨(ä½¿ç”¨u-charts)

### æ¨¡å—13:è¯¾ç¨‹ç­¾åˆ°åŠŸèƒ½

#### 13.1 åç«¯å¼€å‘(1å¤©)
- å®Œå–„`CourseSignInService`
- ç­¾åˆ°è®°å½•ç®¡ç†
- ç­¾åˆ°ç»Ÿè®¡

#### 13.2 å‰ç«¯å¼€å‘(1å¤©)
- æ•™ç»ƒç«¯ç­¾åˆ°é¡µé¢
- å°ç¨‹åºç«¯ç­¾åˆ°ç 

---

## ç¬¬å››é˜¶æ®µ:ä¼˜åŒ–æ”¶å°¾(P3) ğŸŸ¢

### æ¨¡å—14:æ•°æ®ç»Ÿè®¡å¢å¼º

#### 14.1 åç«¯ä¼˜åŒ–(1.5å¤©)
- æ‰©å±•DashboardService
- ç”¨æˆ·è¡Œä¸ºåˆ†æ
- è¿è¥æ•°æ®ç»Ÿè®¡

#### 14.2 å‰ç«¯å¼€å‘(1å¤©)
- æ•°æ®å¯è§†åŒ–å›¾è¡¨
- æŠ¥è¡¨å¯¼å‡ºåŠŸèƒ½

### æ¨¡å—15:ç³»ç»Ÿé…ç½®UIå®Œå–„

#### 15.1 å¼€å‘(0.5å¤©)
- å¾®ä¿¡é…ç½®é¡µé¢
- æ–‡ä»¶ä¸Šä¼ é…ç½®é¡µé¢

---

## ğŸ“… æ€»ä½“å¼€å‘æ’æœŸ

| é˜¶æ®µ | å·¥æœŸ | å®Œæˆæ¨¡å— | äº¤ä»˜ç‰© |
|------|------|----------|--------|
| ç¬¬ä¸€é˜¶æ®µ | 3-4å‘¨ | å™¨æç³»ç»Ÿã€å……å€¼ç³»ç»Ÿã€é€šçŸ¥ã€è®­ç»ƒè®¡åˆ’ | å°ç¨‹åºæ ¸å¿ƒåŠŸèƒ½è¡¥å…¨ |
| ç¬¬äºŒé˜¶æ®µ | 3-4å‘¨ | æ•™ç»ƒç«¯å®Œæ•´å¼€å‘ | æ•™ç»ƒH5åº”ç”¨ |
| ç¬¬ä¸‰é˜¶æ®µ | 2å‘¨ | æ•°æ®è®°å½•ã€ä½“æµ‹ã€ç­¾åˆ° | åŠŸèƒ½å®Œå–„ |
| ç¬¬å››é˜¶æ®µ | 1å‘¨ | ç»Ÿè®¡ã€é…ç½®ä¼˜åŒ– | ç³»ç»Ÿä¼˜åŒ– |
| **æ€»è®¡** | **8-10å‘¨** | **15ä¸ªæ¨¡å—** | **å®Œæ•´ç³»ç»Ÿ** |

---

## âœ… å¼€å‘æ£€æŸ¥æ¸…å•

### ä»£ç è§„èŒƒ
- [ ] éµå¾ªé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ
- [ ] ç»Ÿä¸€å‘½åè§„èŒƒ
- [ ] å®Œå–„çš„æ³¨é‡Š
- [ ] å¼‚å¸¸å¤„ç†
- [ ] æ—¥å¿—è®°å½•

### æ•°æ®åº“è§„èŒƒ
- [ ] ä¸»é”®ã€ç´¢å¼•è®¾è®¡åˆç†
- [ ] å¤–é”®çº¦æŸ
- [ ] å­—æ®µæ³¨é‡Šå®Œæ•´
- [ ] åˆå§‹åŒ–æ•°æ®

### æ¥å£è§„èŒƒ
- [ ] RESTfulé£æ ¼
- [ ] ç»Ÿä¸€è¿”å›æ ¼å¼
- [ ] å‚æ•°æ ¡éªŒ
- [ ] Swaggeræ–‡æ¡£

### å‰ç«¯è§„èŒƒ
- [ ] ç»„ä»¶åŒ–å¼€å‘
- [ ] ä»£ç å¤ç”¨
- [ ] é”™è¯¯å¤„ç†
- [ ] åŠ è½½çŠ¶æ€
- [ ] ç©ºæ•°æ®æç¤º

### æµ‹è¯•è¦æ±‚
- [ ] å•å…ƒæµ‹è¯•
- [ ] æ¥å£æµ‹è¯•
- [ ] åŠŸèƒ½æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¬¬ä¸€æ­¥:ç¯å¢ƒå‡†å¤‡
1. ç¡®ä¿å¼€å‘ç¯å¢ƒå®Œæ•´(JDK 1.8, MySQL, Redis, Node.js)
2. ç”³è¯·å¾®ä¿¡æ”¯ä»˜å•†æˆ·å·
3. å‡†å¤‡æµ‹è¯•æ•°æ®

### ç¬¬äºŒæ­¥:æ•°æ®åº“åˆå§‹åŒ–
```bash
# æ‰§è¡ŒSQLè„šæœ¬
mysql -u root -p gym_booking_system < database/equipment_system.sql
mysql -u root -p gym_booking_system < database/recharge_system.sql
```

### ç¬¬ä¸‰æ­¥:åç«¯å¼€å‘
1. åˆ›å»ºEntity â†’ Mapper â†’ DTO â†’ Service â†’ Controller
2. ç¼–å†™å•å…ƒæµ‹è¯•
3. å¯åŠ¨åç«¯æœåŠ¡éªŒè¯

### ç¬¬å››æ­¥:å‰ç«¯å¼€å‘
1. åˆ›å»ºé¡µé¢å’Œç»„ä»¶
2. å°è£…API
3. é…ç½®è·¯ç”±
4. è”è°ƒæµ‹è¯•

### ç¬¬äº”æ­¥:é›†æˆæµ‹è¯•
1. åŠŸèƒ½æµ‹è¯•
2. æ€§èƒ½æµ‹è¯•
3. å…¼å®¹æ€§æµ‹è¯•

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [Spring Bootå®˜æ–¹æ–‡æ¡£](https://spring.io/projects/spring-boot)
- [MyBatis Plusæ–‡æ¡£](https://baomidou.com/)
- [Vue3å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/)
- [UniAppå®˜æ–¹æ–‡æ¡£](https://uniapp.dcloud.net.cn/)
- [å¾®ä¿¡æ”¯ä»˜å¼€å‘æ–‡æ¡£](https://pay.weixin.qq.com/wiki/doc/apiv3/index.shtml)
- [é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ](https://github.com/alibaba/p3c)

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰æŠ€æœ¯é—®é¢˜,è¯·å‚è€ƒ:
1. é¡¹ç›®Wikiæ–‡æ¡£
2. æŠ€æœ¯å›¢é˜Ÿå†…éƒ¨è®¨è®º
3. å®˜æ–¹æ–‡æ¡£å’Œç¤¾åŒº

---

**æ–‡æ¡£ç»´æŠ¤**: è¯·åœ¨æ¯ä¸ªæ¨¡å—å¼€å‘å®Œæˆåæ›´æ–°æ­¤æ–‡æ¡£çš„å®ŒæˆçŠ¶æ€
**ç‰ˆæœ¬æ§åˆ¶**: æ¯æ¬¡æ›´æ–°æ–‡æ¡£è¯·è®°å½•ç‰ˆæœ¬å·å’Œæ›´æ–°å†…å®¹
