# è¯¾ç¨‹ç®¡ç†åŠŸèƒ½ä¸‰ç«¯ä¼˜åŒ–æ–¹æ¡ˆ

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

**ç›®çš„**: è§£å†³ç®¡ç†ç«¯ã€ä¼šå‘˜å°ç¨‹åºç«¯ã€æ•™ç»ƒç«¯åœ¨è¯¾ç¨‹ç®¡ç†åŠŸèƒ½ä¸Šçš„æ•°æ®å†²çªå’Œå…³è”ç¼ºå¤±é—®é¢˜  
**åˆ›å»ºæ—¶é—´**: 2025-12-20  
**æ¶‰åŠæ¨¡å—**: è¯¾ç¨‹ç®¡ç†ã€æ’è¯¾ç®¡ç†ã€è¯¾ç¨‹é¢„çº¦ã€æ•™ç»ƒç®¡ç†  

---

## ğŸ” é—®é¢˜åˆ†æ

### é—®é¢˜1: è¯¾ç¨‹ä¸æ•™ç»ƒå…³è”ç¼ºå¤± âŒ

**ç°çŠ¶:**
- æ•°æ®åº“è¡¨ `gym_course` åŒ…å« `coach_id` å­—æ®µï¼Œä½†æ‰€æœ‰æ•°æ®éƒ½æ˜¯ NULL
- ç®¡ç†ç«¯åˆ›å»º/ç¼–è¾‘è¯¾ç¨‹æ—¶ï¼Œæ²¡æœ‰æä¾›é€‰æ‹©æ•™ç»ƒçš„åŠŸèƒ½
- æ•™ç»ƒç«¯æŸ¥è¯¢è¯¾ç¨‹æ—¶ä¼šæ ¹æ® `coach_id` è¿‡æ»¤ï¼Œå¯¼è‡´æŸ¥è¯¢ç»“æœä¸ºç©º

**å½±å“:**
- æ•™ç»ƒç«¯æ— æ³•æŸ¥çœ‹ä»»ä½•è¯¾ç¨‹æ•°æ®
- æ— æ³•æ˜ç¡®è¯¾ç¨‹çš„è´Ÿè´£æ•™ç»ƒ
- è¯¾ç¨‹æ’ç­å’Œæ•™ç»ƒç®¡ç†è„±èŠ‚

**æ¶‰åŠæ–‡ä»¶:**
- `springboot/src/main/java/org/example/springboot/controller/CourseController.java`
- `springboot/src/main/java/org/example/springboot/controller/CourseScheduleController.java`
- `vue3/manager/src/views/backend/course/index.vue`
- æ•°æ®åº“: `gym_course` è¡¨

---

### é—®é¢˜2: è¯¾ç¨‹çŠ¶æ€å®šä¹‰ä¸ç»Ÿä¸€ âŒ

**ç°çŠ¶:**
- `GymCourse` (è¯¾ç¨‹): status {0: ä¸‹æ¶, 1: ä¸Šæ¶}
- `GymCourseSchedule` (æ’è¯¾): status {0: å·²å–æ¶ˆ, 1: æ­£å¸¸, 2: å·²æ»¡}
- æ•™ç»ƒç«¯æ˜¾ç¤º: {0: å·²å–æ¶ˆ, 1: æ­£å¸¸, 2: **å·²å®Œæˆ**}  â† é”™è¯¯

**å½±å“:**
- ç”¨æˆ·ç•Œé¢æ˜¾ç¤ºé”™è¯¯ï¼Œé€ æˆæ··æ·†
- æ•™ç»ƒç«¯çŠ¶æ€ç­›é€‰ä¸å®é™…æ•°æ®ä¸åŒ¹é…

**æ¶‰åŠæ–‡ä»¶:**
- `vue3/coach/src/views/courses/List.vue` (è¡Œ20-22)
- `springboot/src/main/java/org/example/springboot/entity/GymCourseSchedule.java`

---

### é—®é¢˜3: è¯¾ç¨‹åˆ†ç±»å…³è”ç¼ºå¤± âŒ

**ç°çŠ¶:**
- æ•°æ®åº“è¡¨ `gym_course` åŒ…å« `category_id` å­—æ®µï¼Œä½†æ‰€æœ‰æ•°æ®éƒ½æ˜¯ NULL
- ç®¡ç†ç«¯åˆ›å»º/ç¼–è¾‘è¯¾ç¨‹æ—¶ï¼Œæ²¡æœ‰æä¾›é€‰æ‹©åˆ†ç±»çš„åŠŸèƒ½
- æ•™ç»ƒç«¯å’Œå°ç¨‹åºç«¯æ˜¾ç¤ºåˆ†ç±»æ—¶éƒ½æ˜¯"æœªåˆ†ç±»"

**å½±å“:**
- æ— æ³•æŒ‰è¯¾ç¨‹ç±»å‹è¿›è¡Œç­›é€‰å’Œç®¡ç†
- ç”¨æˆ·ä½“éªŒå·®ï¼Œè¯¾ç¨‹åˆ†ç±»åŠŸèƒ½å½¢åŒè™šè®¾

**æ¶‰åŠæ–‡ä»¶:**
- `vue3/manager/src/views/backend/course/index.vue`
- æ•°æ®åº“: `gym_course_category` è¡¨

---

### é—®é¢˜4: ä¸‰ç«¯APIè°ƒç”¨é€»è¾‘æ··ä¹± âŒ

**ç°çŠ¶:**

| ç«¯ | APIè·¯å¾„ | æŸ¥è¯¢å†…å®¹ | è¿‡æ»¤æ¡ä»¶ |
|---|---------|---------|---------|
| ä¼šå‘˜å°ç¨‹åº | `/course/list-online` | è¯¾ç¨‹åˆ—è¡¨ | ä»…ä¸Šæ¶è¯¾ç¨‹ |
| æ•™ç»ƒç«¯ | `/course-schedule/page` | æ’è¯¾åˆ—è¡¨ | æŒ‰æ•™ç»ƒIDè¿‡æ»¤ |
| ç®¡ç†ç«¯ | `/course/page` | è¯¾ç¨‹åˆ—è¡¨ | æ— è¿‡æ»¤ |

**é—®é¢˜:**
- æ•™ç»ƒç«¯æŸ¥è¯¢çš„æ˜¯"æ’è¯¾"è€Œä¸æ˜¯"è¯¾ç¨‹"ï¼Œæ¦‚å¿µæ··æ·†
- æ•™ç»ƒç«¯å›  `coach_id` ä¸º NULL å¯¼è‡´æŸ¥è¯¢ç»“æœä¸ºç©º
- ç¼ºå°‘"æŸ¥è¯¢æˆ‘è´Ÿè´£çš„è¯¾ç¨‹"çš„ä¸“ç”¨ API

**æ¶‰åŠæ–‡ä»¶:**
- `springboot/src/main/java/org/example/springboot/controller/CourseScheduleController.java` (è¡Œ112-125)
- `vue3/coach/src/api/course.js`
- `uniapp/apis/course.js`

---

### é—®é¢˜5: æ’è¯¾(Schedule)ä¸è¯¾ç¨‹(Course)æ¦‚å¿µæ··æ·† âŒ

**ç°çŠ¶:**
- `gym_course`: è¯¾ç¨‹åŸºæœ¬ä¿¡æ¯(åç§°ã€ä»·æ ¼ã€æ—¶é•¿ç­‰)
- `gym_course_schedule`: è¯¾ç¨‹çš„å…·ä½“æ—¶é—´å®‰æ’(å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´ã€å‚ä¸äººæ•°ç­‰)

**é—®é¢˜:**
- æ•™ç»ƒç«¯è°ƒç”¨ `getMyCourses()` ä½†å®é™…éœ€è¦çš„æ˜¯æ’è¯¾æ•°æ®
- å‰ç«¯å±•ç¤ºéœ€è¦æ˜¾ç¤ºæ’è¯¾æ—¶é—´ã€åœ°ç‚¹ã€å‚ä¸äººæ•°ï¼Œè¿™äº›éƒ½åœ¨ `gym_course_schedule` è¡¨
- ä¼šå‘˜å°ç¨‹åºæŸ¥è¯¾ç¨‹åè¿˜éœ€è¦æŸ¥æ’è¯¾ï¼Œæµç¨‹ä¸æ¸…æ™°

**å½±å“:**
- æ•°æ®ç»“æ„ç†è§£é”™è¯¯
- API è®¾è®¡ä¸åˆç†
- å‰ç«¯æ•°æ®è·å–å¤æ‚

---

## ğŸ¯ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: å®Œå–„è¯¾ç¨‹-æ•™ç»ƒå…³è”åŠŸèƒ½

#### 1.1 æ•°æ®åº“å±‚é¢

**æ­¥éª¤1: ä¸ºç°æœ‰è¯¾ç¨‹åˆ†é…æ•™ç»ƒ**

```sql
-- å°†ç‘œä¼½ç±»è¯¾ç¨‹åˆ†é…ç»™æ•™ç»ƒID=1 (ææ•,ç‘œä¼½æ•™ç»ƒ)
UPDATE gym_course 
SET coach_id = 1 
WHERE id IN (
    '550e8400-e29b-41d4-a716-446655440001',  -- ç‘œä¼½åŸºç¡€è¯¾
    '550e8400-e29b-41d4-a716-446655440003'   -- æ™®æ‹‰æå¡‘å½¢
);

-- å°†åŠ›é‡è®­ç»ƒè¯¾ç¨‹åˆ†é…ç»™æ•™ç»ƒID=2 (ç‹å¼º,åŠ›é‡è®­ç»ƒæ•™ç»ƒ)
UPDATE gym_course 
SET coach_id = 2 
WHERE id IN (
    '550e8400-e29b-41d4-a716-446655440002',  -- é«˜å¼ºåº¦é—´æ­‡è®­ç»ƒ
    '550e8400-e29b-41d4-a716-446655440005'   -- åŠ›é‡è®­ç»ƒåŸºç¡€
);

-- å°†æœ‰æ°§è¯¾ç¨‹åˆ†é…ç»™æ•™ç»ƒID=3 (å¼ å,æœ‰æ°§å¥èº«æ•™ç»ƒ)
UPDATE gym_course 
SET coach_id = 3 
WHERE id IN (
    '550e8400-e29b-41d4-a716-446655440004',  -- åŠ¨æ„Ÿå•è½¦
    '550e8400-e29b-41d4-a716-446655440006'   -- æ‹‰ä¼¸æ”¾æ¾è¯¾
);
```

#### 1.2 åç«¯å±‚é¢

**æ­¥éª¤2: ä¿®æ”¹ CourseService æ·»åŠ æ•™ç»ƒæŸ¥è¯¢æ–¹æ³•**

æ–‡ä»¶: `springboot/src/main/java/org/example/springboot/service/CourseService.java`

```java
/**
 * æŸ¥è¯¢æ•™ç»ƒè´Ÿè´£çš„è¯¾ç¨‹åˆ—è¡¨
 * @param coachId æ•™ç»ƒID
 * @return è¯¾ç¨‹åˆ—è¡¨
 */
List<CourseResponseDTO> listByCoachId(Long coachId);
```

**æ­¥éª¤3: å®ç°æ•™ç»ƒè¯¾ç¨‹æŸ¥è¯¢**

æ–‡ä»¶: `springboot/src/main/java/org/example/springboot/service/impl/CourseServiceImpl.java`

```java
@Override
public List<CourseResponseDTO> listByCoachId(Long coachId) {
    LambdaQueryWrapper<GymCourse> wrapper = new LambdaQueryWrapper<>();
    wrapper.eq(GymCourse::getCoachId, coachId)
           .eq(GymCourse::getStatus, 1) // ä»…æŸ¥è¯¢ä¸Šæ¶è¯¾ç¨‹
           .orderByDesc(GymCourse::getCreateTime);
    
    List<GymCourse> courses = courseMapper.selectList(wrapper);
    return courses.stream()
            .map(this::convertToDTO)
            .collect(Collectors.toList());
}
```

**æ­¥éª¤4: æ·»åŠ  Controller æ¥å£**

æ–‡ä»¶: `springboot/src/main/java/org/example/springboot/controller/CourseController.java`

```java
/**
 * æŸ¥è¯¢æ•™ç»ƒè´Ÿè´£çš„è¯¾ç¨‹åˆ—è¡¨(æ•™ç»ƒç«¯ä¸“ç”¨)
 */
@Operation(summary = "æŸ¥è¯¢æˆ‘è´Ÿè´£çš„è¯¾ç¨‹åˆ—è¡¨")
@GetMapping("/my-courses")
public Result<List<CourseResponseDTO>> listMyManagedCourses() {
    Long currentUserId = JwtTokenUtils.getCurrentUserId();
    
    // è·å–æ•™ç»ƒID
    LambdaQueryWrapper<GymCoach> wrapper = new LambdaQueryWrapper<>();
    wrapper.eq(GymCoach::getUserId, currentUserId);
    GymCoach coach = coachMapper.selectOne(wrapper);
    
    if (coach == null) {
        throw new BusinessException("å½“å‰ç”¨æˆ·ä¸æ˜¯æ•™ç»ƒ");
    }
    
    log.info("æŸ¥è¯¢æ•™ç»ƒè´Ÿè´£çš„è¯¾ç¨‹åˆ—è¡¨, coachId={}", coach.getId());
    List<CourseResponseDTO> list = courseService.listByCoachId(coach.getId());
    return Result.success(list);
}
```

#### 1.3 ç®¡ç†ç«¯å‰ç«¯

**æ­¥éª¤5: æ·»åŠ æ•™ç»ƒé€‰æ‹©ä¸‹æ‹‰æ¡†**

æ–‡ä»¶: `vue3/manager/src/views/backend/course/index.vue`

åœ¨è¡¨å•ä¸­æ·»åŠ æ•™ç»ƒé€‰æ‹©å­—æ®µ(çº¦åœ¨è¡Œ127å):

```vue
<a-form-item label="è´Ÿè´£æ•™ç»ƒ" name="coachId">
  <a-select
    v-model:value="formData.coachId"
    placeholder="è¯·é€‰æ‹©è´Ÿè´£æ•™ç»ƒ"
    allow-clear
    style="width: 100%"
  >
    <a-select-option
      v-for="coach in coachList"
      :key="coach.id"
      :value="coach.id"
    >
      {{ coach.name }}
    </a-select-option>
  </a-select>
</a-form-item>
```

æ·»åŠ æ•°æ®å’Œæ–¹æ³•:

```javascript
// åœ¨ data éƒ¨åˆ†æ·»åŠ 
const coachList = ref([])

// åœ¨ formData ä¸­æ·»åŠ 
const formData = reactive({
  coachId: null,  // æ–°å¢
})

// æ·»åŠ è·å–æ•™ç»ƒåˆ—è¡¨çš„æ–¹æ³•
const fetchCoaches = () => {
  // è°ƒç”¨æ•™ç»ƒåˆ—è¡¨API
  getCoachList({
    onSuccess: (res) => {
      coachList.value = res || []
    }
  })
}

// åœ¨ onMounted ä¸­è°ƒç”¨
onMounted(() => {
  fetchCourses()
  fetchCoaches()  // æ–°å¢
})
```

#### 1.4 æ•™ç»ƒç«¯å‰ç«¯

**æ­¥éª¤6: ä¿®æ”¹æ•™ç»ƒç«¯ API è°ƒç”¨**

æ–‡ä»¶: `vue3/coach/src/api/course.js`

æ·»åŠ æ–°çš„ API æ–¹æ³•:

```javascript
/**
 * æŸ¥è¯¢æˆ‘è´Ÿè´£çš„è¯¾ç¨‹åˆ—è¡¨
 */
export const getMyCourses = () => {
  return request({
    url: '/course/my-courses',
    method: 'get'
  })
}
```

---

### æ–¹æ¡ˆ2: å®Œå–„è¯¾ç¨‹åˆ†ç±»åŠŸèƒ½

#### 2.1 æ•°æ®åº“å±‚é¢

**æ­¥éª¤1: ä¸ºç°æœ‰è¯¾ç¨‹åˆ†é…åˆ†ç±»**

```sql
-- ç‘œä¼½è¯¾ç¨‹ â†’ ç‘œä¼½è¯¾ç¨‹åˆ†ç±»(id=1)
UPDATE gym_course 
SET category_id = 1 
WHERE id = '550e8400-e29b-41d4-a716-446655440001';

-- åŠ›é‡è®­ç»ƒ â†’ åŠ›é‡è®­ç»ƒåˆ†ç±»(id=2)
UPDATE gym_course 
SET category_id = 2 
WHERE id = '550e8400-e29b-41d4-a716-446655440005';

-- HIIT â†’ æœ‰æ°§è¿åŠ¨åˆ†ç±»(id=3)
UPDATE gym_course 
SET category_id = 3 
WHERE id = '550e8400-e29b-41d4-a716-446655440002';

-- æ™®æ‹‰æ â†’ æ™®æ‹‰æåˆ†ç±»(id=4)
UPDATE gym_course 
SET category_id = 4 
WHERE id = '550e8400-e29b-41d4-a716-446655440003';

-- åŠ¨æ„Ÿå•è½¦ â†’ åŠ¨æ„Ÿå•è½¦åˆ†ç±»(id=5)
UPDATE gym_course 
SET category_id = 5 
WHERE id = '550e8400-e29b-41d4-a716-446655440004';

-- æ‹‰ä¼¸æ”¾æ¾ â†’ æ‹‰ä¼¸æ”¾æ¾åˆ†ç±»(id=6)
UPDATE gym_course 
SET category_id = 6 
WHERE id = '550e8400-e29b-41d4-a716-446655440006';
```

#### 2.2 ç®¡ç†ç«¯å‰ç«¯

**æ­¥éª¤2: æ·»åŠ åˆ†ç±»é€‰æ‹©ä¸‹æ‹‰æ¡†**

æ–‡ä»¶: `vue3/manager/src/views/backend/course/index.vue`

åœ¨è¡¨å•ä¸­æ·»åŠ åˆ†ç±»é€‰æ‹©å­—æ®µ(çº¦åœ¨è¡Œ122å):

```vue
<a-form-item label="è¯¾ç¨‹åˆ†ç±»" name="categoryId">
  <a-select
    v-model:value="formData.categoryId"
    placeholder="è¯·é€‰æ‹©è¯¾ç¨‹åˆ†ç±»"
    allow-clear
    style="width: 100%"
  >
    <a-select-option
      v-for="category in categoryList"
      :key="category.id"
      :value="category.id"
    >
      {{ category.name }}
    </a-select-option>
  </a-select>
</a-form-item>
```

æ·»åŠ æ•°æ®å’Œæ–¹æ³•:

```javascript
// åœ¨ data éƒ¨åˆ†æ·»åŠ 
const categoryList = ref([])

// åœ¨ formData ä¸­æ·»åŠ 
const formData = reactive({
  categoryId: null,  // æ–°å¢
})

// æ·»åŠ è·å–åˆ†ç±»åˆ—è¡¨çš„æ–¹æ³•
const fetchCategories = () => {
  getCategoryList({
    onSuccess: (res) => {
      categoryList.value = res || []
    }
  })
}

// åœ¨ onMounted ä¸­è°ƒç”¨
onMounted(() => {
  fetchCourses()
  fetchCoaches()
  fetchCategories()  // æ–°å¢
})
```

---

### æ–¹æ¡ˆ3: ç»Ÿä¸€çŠ¶æ€å®šä¹‰å’Œæ˜¾ç¤º

#### 3.1 æ•™ç»ƒç«¯ä¿®æ­£

**æ­¥éª¤1: ä¿®æ­£æ’è¯¾çŠ¶æ€é€‰é¡¹**

æ–‡ä»¶: `vue3/coach/src/views/courses/List.vue`

ä¿®æ”¹è¡Œ20-22:

```vue
<!-- ä¿®æ”¹å‰ -->
<a-select-option :value="1">æ­£å¸¸</a-select-option>
<a-select-option :value="0">å·²å–æ¶ˆ</a-select-option>
<a-select-option :value="2">å·²å®Œæˆ</a-select-option>  â† é”™è¯¯

<!-- ä¿®æ”¹å -->
<a-select-option :value="1">æ­£å¸¸</a-select-option>
<a-select-option :value="0">å·²å–æ¶ˆ</a-select-option>
<a-select-option :value="2">å·²æ»¡é¢</a-select-option>  â† æ­£ç¡®
```

ä¿®æ”¹è¡Œ279-283çš„çŠ¶æ€æ–‡æœ¬æ˜ å°„:

```javascript
// è·å–çŠ¶æ€æ–‡æœ¬
const getStatusText = (status) => {
  const textMap = {
    0: 'å·²å–æ¶ˆ',
    1: 'æ­£å¸¸',
    2: 'å·²æ»¡é¢'  // ä¿®æ”¹: åŸæ¥æ˜¯"å·²å®Œæˆ"
  }
  return textMap[status] || 'æœªçŸ¥'
}
```

#### 3.2 æ·»åŠ ä»£ç æ³¨é‡Šè¯´æ˜

åœ¨ç›¸å…³å®ä½“ç±»ä¸­æ·»åŠ æ¸…æ™°çš„çŠ¶æ€è¯´æ˜:

æ–‡ä»¶: `springboot/src/main/java/org/example/springboot/entity/GymCourse.java`

```java
/**
 * è¯¾ç¨‹çŠ¶æ€ï¼š
 * 0 - ä¸‹æ¶: è¯¾ç¨‹æš‚æ—¶ä¸å¯é¢„çº¦ï¼Œä¸åœ¨å°ç¨‹åºç«¯æ˜¾ç¤º
 * 1 - ä¸Šæ¶: è¯¾ç¨‹æ­£å¸¸å¯é¢„çº¦ï¼Œåœ¨å°ç¨‹åºç«¯æ˜¾ç¤º
 */
@Schema(description = "çŠ¶æ€ï¼š0-ä¸‹æ¶ï¼Œ1-ä¸Šæ¶")
private Integer status;
```

æ–‡ä»¶: `springboot/src/main/java/org/example/springboot/entity/GymCourseSchedule.java`

```java
/**
 * æ’è¯¾çŠ¶æ€ï¼š
 * 0 - å·²å–æ¶ˆ: è¯¥æ—¶é—´æ®µçš„è¯¾ç¨‹å·²å–æ¶ˆï¼Œä¸å¯é¢„çº¦
 * 1 - æ­£å¸¸: å¯ä»¥æ­£å¸¸é¢„çº¦
 * 2 - å·²æ»¡: å‚ä¸äººæ•°å·²è¾¾ä¸Šé™ï¼Œä¸å¯é¢„çº¦
 */
@Schema(description = "çŠ¶æ€ï¼š0-å–æ¶ˆï¼Œ1-æ­£å¸¸ï¼Œ2-å·²æ»¡")
private Integer status;
```

---

### æ–¹æ¡ˆ4: æ˜ç¡®APIèŒè´£å’Œæ•°æ®æµ

#### 4.1 API èŒè´£åˆ’åˆ†

**ä¼šå‘˜å°ç¨‹åºç«¯:**

```javascript
// 1. æŸ¥è¯¢æ‰€æœ‰ä¸Šæ¶è¯¾ç¨‹
getCourseListOnline()  â†’ /course/list-online

// 2. æŸ¥è¯¢è¯¾ç¨‹è¯¦æƒ…
getCourseById(courseId)  â†’ /course/{id}

// 3. æŸ¥è¯¢è¯¾ç¨‹çš„æ’è¯¾æ—¶é—´è¡¨
getCourseScheduleList(courseId)  â†’ /course-schedule/list-by-course/{courseId}

// 4. é¢„çº¦è¯¾ç¨‹
createBooking(scheduleId)  â†’ /booking
```

**æ•™ç»ƒç«¯:**

```javascript
// 1. æŸ¥è¯¢æˆ‘è´Ÿè´£çš„è¯¾ç¨‹åˆ—è¡¨
getMyCourses()  â†’ /course/my-courses  (æ–°å¢)

// 2. æŸ¥è¯¢æˆ‘çš„æ’è¯¾åˆ—è¡¨(æŒ‰æ—¥æœŸç­›é€‰)
getMyCourseSchedules(params)  â†’ /course-schedule/page (å·²æœ‰,å¸¦æ•™ç»ƒè¿‡æ»¤)

// 3. æŸ¥è¯¢æ’è¯¾è¯¦æƒ…
getCourseScheduleById(scheduleId)  â†’ /course-schedule/{id}

// 4. æŸ¥çœ‹æ’è¯¾çš„é¢„çº¦å­¦å‘˜
getScheduleBookings(scheduleId)  â†’ /booking/schedule/{scheduleId}

// 5. å­¦å‘˜ç­¾åˆ°
signInStudent(scheduleId, bookingId)  â†’ /course-schedule/{scheduleId}/sign-in
```

**ç®¡ç†ç«¯:**

```javascript
// 1. è¯¾ç¨‹ç®¡ç†(CRUD)
getCoursePage()  â†’ /course/page
createCourse()  â†’ /course
updateCourse()  â†’ /course/{id}
deleteCourse()  â†’ /course/{id}

// 2. æ’è¯¾ç®¡ç†(CRUD)
getCourseSchedulePage()  â†’ /course-schedule/page
createCourseSchedule()  â†’ /course-schedule
updateCourseSchedule()  â†’ /course-schedule/{id}
deleteCourseSchedule()  â†’ /course-schedule/{id}

// 3. é¢„çº¦ç®¡ç†
getBookingPage()  â†’ /booking/page
```

#### 4.2 æ•°æ®æµè®¾è®¡

**ä¼šå‘˜é¢„çº¦æµç¨‹:**

```
1. ç”¨æˆ·æµè§ˆè¯¾ç¨‹åˆ—è¡¨ â†’ getCourseListOnline()
   â†“
2. ç‚¹å‡»æŸ¥çœ‹è¯¾ç¨‹è¯¦æƒ… â†’ getCourseById(courseId)
   â†“
3. æŸ¥çœ‹å¯é¢„çº¦æ—¶é—´æ®µ â†’ getCourseScheduleList(courseId)
   â†“
4. é€‰æ‹©æ—¶é—´æ®µé¢„çº¦ â†’ createBooking(scheduleId)
```

**æ•™ç»ƒæŸ¥çœ‹è¯¾ç¨‹æµç¨‹:**

```
1. æŸ¥çœ‹æˆ‘è´Ÿè´£çš„è¯¾ç¨‹ â†’ getMyCourses()
   â†“
2. æŸ¥çœ‹æ’è¯¾æ—¥å† â†’ getMyCourseSchedules(dateRange)
   â†“
3. ç‚¹å‡»æŸ¥çœ‹æŸèŠ‚è¯¾è¯¦æƒ… â†’ getCourseScheduleById(scheduleId)
   â†“
4. æŸ¥çœ‹é¢„çº¦å­¦å‘˜åå• â†’ getScheduleBookings(scheduleId)
   â†“
5. å­¦å‘˜ç­¾åˆ° â†’ signInStudent(scheduleId, bookingId)
```

---

### æ–¹æ¡ˆ5: å¢å¼ºä¸‰ç«¯å…³è”æ€§

#### 5.1 è¯¾ç¨‹åˆ›å»ºå®Œæ•´æµç¨‹

**ç®¡ç†ç«¯æ“ä½œæ­¥éª¤:**

```
1. åˆ›å»ºè¯¾ç¨‹åˆ†ç±»(å¦‚æœæ²¡æœ‰) â†’ è¯¾ç¨‹åˆ†ç±»ç®¡ç†é¡µé¢
   â†“
2. åˆ›å»ºè¯¾ç¨‹åŸºæœ¬ä¿¡æ¯
   - è¯¾ç¨‹åç§°ã€æè¿°ã€å°é¢å›¾
   - é€‰æ‹©è¯¾ç¨‹åˆ†ç±» âœ“
   - é€‰æ‹©è´Ÿè´£æ•™ç»ƒ âœ“
   - è®¾ç½®æ—¶é•¿ã€äººæ•°ã€ä»·æ ¼
   - è®¾ç½®çŠ¶æ€(ä¸Šæ¶/ä¸‹æ¶)
   â†“
3. ä¸ºè¯¾ç¨‹åˆ›å»ºæ’è¯¾æ—¶é—´è¡¨
   - é€‰æ‹©è¯¾ç¨‹
   - è®¾ç½®å¼€å§‹/ç»“æŸæ—¶é—´
   - è®¾ç½®æœ€å¤§å‚ä¸äººæ•°
   â†“
4. è¯¾ç¨‹è‡ªåŠ¨æ˜¾ç¤ºåœ¨å°ç¨‹åºç«¯(å¦‚æœå·²ä¸Šæ¶)
   æ•™ç»ƒç«¯è‡ªåŠ¨å¯è§(å¦‚æœåˆ†é…äº†è¯¥æ•™ç»ƒ)
```

#### 5.2 æ•°æ®å…³è”å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  gym_course     â”‚  è¯¾ç¨‹åŸºæœ¬ä¿¡æ¯
â”‚  - id (UUID)    â”‚
â”‚  - name         â”‚
â”‚  - coach_id âœ“   â”‚  â†’ å…³è”æ•™ç»ƒ
â”‚  - category_id âœ“â”‚  â†’ å…³è”åˆ†ç±»
â”‚  - price        â”‚
â”‚  - status       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1
         â”‚
         â”‚ N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ gym_course_schedule â”‚  è¯¾ç¨‹æ’è¯¾
â”‚ - id                â”‚
â”‚ - course_id         â”‚  â†’ å…³è”è¯¾ç¨‹
â”‚ - start_time        â”‚
â”‚ - end_time          â”‚
â”‚ - max_participants  â”‚
â”‚ - status            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ 1
         â”‚
         â”‚ N
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ gym_course_booking  â”‚  è¯¾ç¨‹é¢„çº¦
â”‚ - id                â”‚
â”‚ - user_id           â”‚  â†’ å…³è”ç”¨æˆ·
â”‚ - schedule_id       â”‚  â†’ å…³è”æ’è¯¾
â”‚ - status            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.3 æƒé™å’Œå¯è§æ€§çŸ©é˜µ

| åŠŸèƒ½ | ç®¡ç†ç«¯ | æ•™ç»ƒç«¯ | ä¼šå‘˜å°ç¨‹åº |
|-----|--------|--------|-----------|
| æŸ¥çœ‹æ‰€æœ‰è¯¾ç¨‹ | âœ“ | âœ— | âœ— |
| æŸ¥çœ‹ä¸Šæ¶è¯¾ç¨‹ | âœ“ | âœ— | âœ“ |
| æŸ¥çœ‹æˆ‘è´Ÿè´£çš„è¯¾ç¨‹ | âœ— | âœ“ | âœ— |
| åˆ›å»º/ç¼–è¾‘è¯¾ç¨‹ | âœ“ | âœ— | âœ— |
| åˆ é™¤è¯¾ç¨‹ | âœ“ | âœ— | âœ— |
| æŸ¥çœ‹æ‰€æœ‰æ’è¯¾ | âœ“ | âœ— | âœ— |
| æŸ¥çœ‹æˆ‘çš„æ’è¯¾ | âœ— | âœ“ | âœ— |
| åˆ›å»º/ç¼–è¾‘æ’è¯¾ | âœ“ | âœ— | âœ— |
| æŸ¥çœ‹è¯¾ç¨‹æ’è¯¾è¡¨ | âœ“ | âœ“ | âœ“ |
| é¢„çº¦è¯¾ç¨‹ | âœ— | âœ— | âœ“ |
| æŸ¥çœ‹é¢„çº¦è®°å½• | âœ“ | âœ“ | âœ“ |
| å­¦å‘˜ç­¾åˆ° | âœ“ | âœ“ | âœ— |

---

## ğŸ“ å®æ–½æ­¥éª¤æ€»ç»“

### é˜¶æ®µ1: æ•°æ®ä¿®å¤(ä¼˜å…ˆçº§: ğŸ”´ é«˜)

```sql
-- æ‰§è¡Œä»¥ä¸‹SQLè„šæœ¬
-- 1. ä¸ºè¯¾ç¨‹åˆ†é…æ•™ç»ƒ
-- 2. ä¸ºè¯¾ç¨‹åˆ†é…åˆ†ç±»
```

**é¢„è®¡æ—¶é—´**: 5åˆ†é’Ÿ  
**é£é™©**: ä½

---

### é˜¶æ®µ2: åç«¯APIå®Œå–„(ä¼˜å…ˆçº§: ğŸ”´ é«˜)

1. âœ… æ·»åŠ æ•™ç»ƒè¯¾ç¨‹æŸ¥è¯¢æœåŠ¡æ–¹æ³•
2. âœ… æ·»åŠ  `/course/my-courses` æ¥å£
3. âœ… æ·»åŠ è¯¾ç¨‹åˆ†ç±»æŸ¥è¯¢æ¥å£(å¦‚æœæ²¡æœ‰)
4. âœ… å®Œå–„è¯¾ç¨‹å“åº”DTO,åŒ…å«æ•™ç»ƒå’Œåˆ†ç±»ä¿¡æ¯

**é¢„è®¡æ—¶é—´**: 2å°æ—¶  
**é£é™©**: ä¸­

---

### é˜¶æ®µ3: ç®¡ç†ç«¯å®Œå–„(ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­)

1. âœ… æ·»åŠ æ•™ç»ƒé€‰æ‹©ä¸‹æ‹‰æ¡†
2. âœ… æ·»åŠ åˆ†ç±»é€‰æ‹©ä¸‹æ‹‰æ¡†
3. âœ… è°ƒæ•´è¡¨å•éªŒè¯è§„åˆ™
4. âœ… æ›´æ–°è¯¾ç¨‹åˆ—è¡¨æ˜¾ç¤ºæ•™ç»ƒå’Œåˆ†ç±»

**é¢„è®¡æ—¶é—´**: 3å°æ—¶  
**é£é™©**: ä½

---

### é˜¶æ®µ4: æ•™ç»ƒç«¯ä¿®å¤(ä¼˜å…ˆçº§: ğŸ”´ é«˜)

1. âœ… ä¿®æ”¹APIè°ƒç”¨ä¸º `/course/my-courses`
2. âœ… ä¿®æ­£çŠ¶æ€é€‰é¡¹å’Œæ–‡æœ¬
3. âœ… æµ‹è¯•è¯¾ç¨‹åˆ—è¡¨å’Œè¯¦æƒ…å±•ç¤º

**é¢„è®¡æ—¶é—´**: 1å°æ—¶  
**é£é™©**: ä½

---

### é˜¶æ®µ5: ä¼šå‘˜å°ç¨‹åºä¼˜åŒ–(ä¼˜å…ˆçº§: ğŸŸ¢ ä½)

1. âœ… ç¡®è®¤åˆ†ç±»æ˜¾ç¤ºæ­£å¸¸
2. âœ… ä¼˜åŒ–è¯¾ç¨‹è¯¦æƒ…å±•ç¤º
3. âœ… æ·»åŠ æ•™ç»ƒä¿¡æ¯æ˜¾ç¤º

**é¢„è®¡æ—¶é—´**: 1å°æ—¶  
**é£é™©**: ä½

---

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•ç”¨ä¾‹1: ç®¡ç†ç«¯åˆ›å»ºè¯¾ç¨‹

**æ­¥éª¤:**
1. ç™»å½•ç®¡ç†ç«¯
2. è¿›å…¥è¯¾ç¨‹ç®¡ç†é¡µé¢
3. ç‚¹å‡»"æ–°å¢è¯¾ç¨‹"
4. å¡«å†™è¯¾ç¨‹ä¿¡æ¯,é€‰æ‹©æ•™ç»ƒå’Œåˆ†ç±»
5. ç‚¹å‡»ä¿å­˜

**é¢„æœŸç»“æœ:**
- âœ… æ•™ç»ƒä¸‹æ‹‰æ¡†æ˜¾ç¤ºæ‰€æœ‰åœ¨èŒæ•™ç»ƒ
- âœ… åˆ†ç±»ä¸‹æ‹‰æ¡†æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨åˆ†ç±»
- âœ… ä¿å­˜æˆåŠŸå,è¯¾ç¨‹åˆ—è¡¨æ˜¾ç¤ºæ•™ç»ƒå’Œåˆ†ç±»ä¿¡æ¯

---

### æµ‹è¯•ç”¨ä¾‹2: æ•™ç»ƒç«¯æŸ¥çœ‹è¯¾ç¨‹

**æ­¥éª¤:**
1. ä½¿ç”¨æ•™ç»ƒè´¦å·ç™»å½•æ•™ç»ƒç«¯
2. è¿›å…¥"è¯¾ç¨‹ç®¡ç†"èœå•

**é¢„æœŸç»“æœ:**
- âœ… æ˜¾ç¤ºè¯¥æ•™ç»ƒè´Ÿè´£çš„æ‰€æœ‰è¯¾ç¨‹
- âœ… çŠ¶æ€ç­›é€‰æ­£ç¡®(å·²å–æ¶ˆ/æ­£å¸¸/å·²æ»¡é¢)
- âœ… å¯ä»¥æŸ¥çœ‹è¯¾ç¨‹è¯¦æƒ…å’Œæ’è¯¾ä¿¡æ¯

---

### æµ‹è¯•ç”¨ä¾‹3: ä¼šå‘˜å°ç¨‹åºé¢„çº¦è¯¾ç¨‹

**æ­¥éª¤:**
1. æ‰“å¼€ä¼šå‘˜å°ç¨‹åº
2. è¿›å…¥è¯¾ç¨‹åˆ—è¡¨
3. ç‚¹å‡»æŸ¥çœ‹è¯¾ç¨‹è¯¦æƒ…
4. é€‰æ‹©æ—¶é—´æ®µé¢„çº¦

**é¢„æœŸç»“æœ:**
- âœ… æ˜¾ç¤ºè¯¾ç¨‹åˆ†ç±»
- âœ… æ˜¾ç¤ºè´Ÿè´£æ•™ç»ƒå§“å
- âœ… æ˜¾ç¤ºå¯é¢„çº¦çš„æ—¶é—´æ®µ
- âœ… é¢„çº¦æˆåŠŸ

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ•°æ®å®Œæ•´æ€§

- æ‰§è¡Œæ•°æ®åº“æ›´æ–°å‰,åŠ¡å¿…å¤‡ä»½æ•°æ®
- ç¡®ä¿æ‰€æœ‰è¯¾ç¨‹éƒ½åˆ†é…äº†æ•™ç»ƒå’Œåˆ†ç±»
- æ–°åˆ›å»ºçš„è¯¾ç¨‹å¿…é¡»é€‰æ‹©æ•™ç»ƒå’Œåˆ†ç±»

### 2. å‘åå…¼å®¹

- æ—§çš„APIä¿æŒå¯ç”¨,æ–°å¢ä¸“ç”¨API
- å‰ç«¯é€æ­¥è¿ç§»åˆ°æ–°API
- æ•°æ®åº“å­—æ®µå…è®¸NULL(è¿‡æ¸¡æœŸ)

### 3. æƒé™æ§åˆ¶

- æ•™ç»ƒåªèƒ½æŸ¥çœ‹è‡ªå·±è´Ÿè´£çš„è¯¾ç¨‹
- ä¼šå‘˜åªèƒ½æŸ¥çœ‹ä¸Šæ¶çš„è¯¾ç¨‹
- ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹æ‰€æœ‰è¯¾ç¨‹

### 4. æ€§èƒ½ä¼˜åŒ–

- è¯¾ç¨‹æŸ¥è¯¢æ—¶å…³è”æŸ¥è¯¢æ•™ç»ƒå’Œåˆ†ç±»ä¿¡æ¯
- é¿å…N+1æŸ¥è¯¢é—®é¢˜
- åˆç†ä½¿ç”¨ç¼“å­˜

---

## ğŸ“Š é¢„æœŸæ•ˆæœ

### ä¿®å¤å‰ vs ä¿®å¤å

| é¡¹ç›® | ä¿®å¤å‰ | ä¿®å¤å |
|-----|--------|--------|
| æ•™ç»ƒç«¯è¯¾ç¨‹åˆ—è¡¨ | âŒ ç©ºç™½(æ— æ•°æ®) | âœ… æ˜¾ç¤ºè´Ÿè´£çš„è¯¾ç¨‹ |
| è¯¾ç¨‹æ•™ç»ƒå…³è” | âŒ æ— æ³•å…³è” | âœ… æ˜ç¡®è´Ÿè´£äºº |
| è¯¾ç¨‹åˆ†ç±» | âŒ å…¨éƒ¨"æœªåˆ†ç±»" | âœ… æ­£ç¡®åˆ†ç±» |
| çŠ¶æ€æ˜¾ç¤º | âŒ "å·²å®Œæˆ"(é”™è¯¯) | âœ… "å·²æ»¡é¢"(æ­£ç¡®) |
| ä¸‰ç«¯æ•°æ®ä¸€è‡´æ€§ | âŒ ä¸ä¸€è‡´ | âœ… å®Œå…¨ä¸€è‡´ |

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- è¯¾ç¨‹ç®¡ç†åŠŸèƒ½å¼€å‘æ€»ç»“.md
- æ•™ç»ƒç«¯åŠŸèƒ½ä¿®å¤æ–¹æ¡ˆ.md
- æ•°æ®åº“è®¾è®¡æ–‡æ¡£.md
- APIæ¥å£æ–‡æ¡£(Swagger)

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜,è¯·å‚è€ƒ:
1. é¡¹ç›®Wikiæ–‡æ¡£
2. Swagger APIæ–‡æ¡£: http://localhost:8080/doc.html
3. å¼€å‘å›¢é˜ŸæŠ€æœ¯æ”¯æŒ

---

**æ–‡æ¡£ç»“æŸ**
